{"version":3,"file":"js/811.0001307f.js","mappings":"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","sources":["webpack://shoppingmobile/./src/views/layout/two/classfiction.vue","webpack://shoppingmobile/./src/api/classfiction.js","webpack://shoppingmobile/src/views/layout/two/classfiction.vue","webpack://shoppingmobile/./src/views/layout/two/classfiction.vue?eab1","webpack://shoppingmobile/./src/views/layout/two/classfiction.vue?b4f4","webpack://shoppingmobile/./src/utils/request.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"app\"},[_c('NavBar',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" 全部分类 \")]},proxy:true}])}),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"search\"},[_c('van-icon',{attrs:{\"name\":\"search\"}}),_c('input',{attrs:{\"type\":\"search\",\"placeholder\":\"请输入关键词\"},on:{\"click\":function($event){return _vm.$router.push('/searchview')}}})],1),_c('div',{staticClass:\"product\"},[_c('div',{staticClass:\"Nav\"},_vm._l((_vm.navList),function(item,index){return _c('div',{key:item.category_id,class:{'bgc': index === _vm.Index},on:{\"click\":function($event){return _vm.changeShowAction(index)}}},[_vm._v(_vm._s(item.name))])}),0),_c('div',{staticClass:\"showProduct\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.productList),expression:\"!productList\"}],staticClass:\"none\"},[_vm._v(\"暂无商品\")]),_vm._l((_vm.productList),function(item){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.productList),expression:\"productList\"}],key:item.category_id,staticClass:\"imgBox\",on:{\"click\":function($event){return _vm.$router.push(`/searchlist?goodsName=${item.name}`)}}},[_c('div',[_c('img',{attrs:{\"src\":item.image.external_url,\"alt\":\"\"}})]),_c('span',[_vm._v(_vm._s(item.name))])])})],2)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n\r\nexport function getClassFictionDataList () {\r\n  return request.get('/category/list')\r\n}\r\n","<template>\r\n <div class=\"app\">\r\n  <NavBar>\r\n    <template #title>\r\n      全部分类\r\n    </template>\r\n  </NavBar>\r\n  <div class=\"box\">\r\n    <div class=\"search\">\r\n        <van-icon name=\"search\"/>\r\n        <input type=\"search\" placeholder=\"请输入关键词\" @click=\"$router.push('/searchview')\">\r\n    </div>\r\n    <div class=\"product\">\r\n      <div class=\"Nav\">\r\n        <div v-for=\"(item, index) in navList\" :key=\"item.category_id\" :class=\"{'bgc': index === Index}\"\r\n         @click=\"changeShowAction(index)\">{{item.name}}</div>\r\n      </div>\r\n      <div class=\"showProduct\" >\r\n        <span v-show=\"!productList\" class=\"none\">暂无商品</span>\r\n        <div\r\n          class=\"imgBox\"\r\n          v-for=\"item in productList\"\r\n          :key=\"item.category_id\"\r\n          v-show=\"productList\"\r\n          @click=\"$router.push(`/searchlist?goodsName=${item.name}`)\"\r\n          >\r\n          <div>\r\n            <img :src=\"item.image.external_url\" alt=\"\">\r\n          </div>\r\n          <span>{{item.name}}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n </div>\r\n</template>\r\n\r\n<script>\r\nimport { getClassFictionDataList } from '@/api/classfiction'\r\nexport default {\r\n  name: 'classfictionIndex',\r\n  data () {\r\n    return {\r\n      Index: 0,\r\n      navList: [],\r\n      productList: []\r\n    }\r\n  },\r\n  methods: {\r\n    changeShowAction (index) {\r\n      // 点击高亮\r\n      this.Index = index\r\n      // 导航匹配产品\r\n      this.productList = this.navList[index].children\r\n    }\r\n  },\r\n  async created () {\r\n    // 结构第一层\r\n    const { data: { list } } = await getClassFictionDataList()\r\n    this.navList = list\r\n    // 导航匹配第一产品\r\n    this.productList = list[0].children\r\n    console.log(this.productList)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.box {\r\n  z-index: 1;\r\n  position: fixed;\r\n  top: 50px;\r\n  bottom: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n// 搜索框模块\r\n.search {\r\n  flex-shrink: 0;\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  i {\r\n    top: 50%;\r\n    transform: translate(0, -50%);\r\n    left: 25px;\r\n    position: absolute;\r\n    font-size: 18px;\r\n    color: #d3d5d7;\r\n  }\r\n  input {\r\n    width: 92%;\r\n    height: 35px;\r\n    padding-left: 30px;\r\n    font-size: 16px;\r\n    outline: none;\r\n    border-radius: 20px;\r\n    border: 0;\r\n  }\r\n  input::-webkit-input-placeholder {\r\n    color: #d3d5d7;\r\n  }\r\n}\r\n\r\n// 产品模块\r\n.product {\r\n  flex: 1;\r\n  display: flex;\r\n  overflow: auto;\r\n  .Nav {\r\n    width: 90px;\r\n    overflow: auto;\r\n    div {\r\n      height: 43px;\r\n      line-height: 43px;\r\n      font-size: 13px;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .showProduct {\r\n    flex: 1;\r\n    overflow: auto;\r\n    background-color: #fff;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: flex-start;\r\n    .imgBox {\r\n      width: 33.3333%;\r\n      height: 110px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n      > div {\r\n        flex: 1;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        img {\r\n          width: 60px;\r\n        }\r\n      }\r\n      span {\r\n        display: flex;\r\n        justify-content: center;\r\n        height: 28px;\r\n        font-size: 12.5px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.bgc{\r\n  background-color: #fff;\r\n  color: orangered;\r\n}\r\n.none {\r\n  flex: 1;\r\n  text-align: center;\r\n  margin-top: 60%;\r\n  transform: translateY(-50%);\r\n  color: #ccc;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./classfiction.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./classfiction.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./classfiction.vue?vue&type=template&id=6ecfd20b&scoped=true\"\nimport script from \"./classfiction.vue?vue&type=script&lang=js\"\nexport * from \"./classfiction.vue?vue&type=script&lang=js\"\nimport style0 from \"./classfiction.vue?vue&type=style&index=0&id=6ecfd20b&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ecfd20b\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\r\nimport { Toast } from 'vant'\r\n// 创建实例不会污染原始axios实例\r\nconst instance = axios.create({\r\n  // 请求基地址\r\n  baseURL: 'http://smart-shop.itheima.net/index.php?s=/api',\r\n  //   请求超时\r\n  timeout: 5000\r\n})\r\n\r\n// 添加请求拦截器\r\ninstance.interceptors.request.use(function (config) {\r\n  // 在发送请求之前做些什么\r\n  Toast.loading({\r\n    message: '加载中',\r\n    forbidClick: true,\r\n    duration: 0,\r\n    loadingType: 'spinner'\r\n  })\r\n\r\n  config.headers.platform = 'H5'\r\n  // 加上请求token\r\n\r\n  return config\r\n}, function (error) {\r\n  // 对请求错误做些什么\r\n  return Promise.reject(error)\r\n})\r\n\r\n// 添加响应拦截器\r\ninstance.interceptors.response.use(function (response) {\r\n  // 2xx 范围内的状态码都会触发该函数。\r\n  // 对响应数据做点什么\r\n\r\n  const res = response.data\r\n  if (res.status !== 200) {\r\n    Toast(res.message)\r\n    return Promise.reject(res.message)\r\n  } else {\r\n    // 正确情况，直接走业务逻辑，清除loading效果\r\n    Toast.clear()\r\n  }\r\n  return res\r\n}, function (error) {\r\n  // 超出 2xx 范围的状态码都会触发该函数。\r\n  // 对响应错误做点什么\r\n  if (error.message === 'timeout of 5000ms exceeded') return Toast('请求超时')\r\n  return Promise.reject(error)\r\n})\r\n\r\nexport default instance\r\n"],"names":["render","_vm","this","_c","_self","staticClass","scopedSlots","_u","key","fn","_v","proxy","attrs","on","$event","$router","push","_l","navList","item","index","category_id","class","Index","changeShowAction","_s","name","directives","rawName","value","productList","expression","image","external_url","staticRenderFns","getClassFictionDataList","request","get","data","methods","children","created","list","console","log","component","instance","axios","create","baseURL","timeout","interceptors","use","config","_Toast","loading","message","forbidClick","duration","loadingType","headers","platform","error","Promise","reject","response","res","status","clear"],"sourceRoot":""}