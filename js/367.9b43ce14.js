"use strict";(self["webpackChunkshoppingmobile"]=self["webpackChunkshoppingmobile"]||[]).push([[367],{1367:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("NavBar",{attrs:{blob:700},scopedSlots:e._u([{key:"go",fn:function(){return[t("van-icon",{attrs:{name:"arrow-left"}})]},proxy:!0},{key:"title",fn:function(){return[e._v(" 商品搜索 ")]},proxy:!0}])}),t("div",{staticClass:"search"},[t("div",{staticClass:"search_box"},[t("van-icon",{attrs:{name:"search"}}),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.goodsName,expression:"goodsName",modifiers:{trim:!0}}],ref:"input",attrs:{type:"text",id:"",placeholder:e.$route.query.title},domProps:{value:e.goodsName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getGoods(e.goodsName)},input:function(t){t.target.composing||(e.goodsName=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),t("button",{on:{click:function(t){return e.getGoods(e.goodsName)}}},[e._v("搜索")])],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"recent"},[t("div",{staticClass:"recent_hd"},[t("h3",[e._v("最近搜索")]),e.isDel?t("div",{on:{click:function(t){e.isDel=!1}}},[t("van-icon",{attrs:{name:"delete-o"}})],1):t("div",[t("span",{on:{click:e.delAll}},[e._v("全部删除")]),t("span",[e._v("|")]),t("span",{on:{click:function(t){e.isDel=!0}}},[e._v("完成")])])]),t("div",{staticClass:"recent_bd"},e._l(e.search.histroyRecode,(function(s){return t("span",{key:s,staticClass:"ellipsisOneRow",on:{click:function(t){return e.clickAction(s)}}},[e._v(e._s(s)+" "),t("i",{directives:[{name:"show",rawName:"v-show",value:!e.isDel,expression:"!isDel"}]},[e._v("X")])])})),0)])],1)},o=[],n=(s(9704),s(1981)),r=(s(4114),s(3518)),a={name:"searchviewIndex",data(){return{goodsName:"",isDel:!0}},methods:{...(0,r.PY)("search",["addHistroyRecode","delHistroyRecode","delAllHistroyRecode"]),getGoods(e){if(!e)return(0,n.A)("请输入商品名称");this.addHistroyRecode(e),this.goodsName=e,this.$router.push({path:"/searchlist",query:{goodsName:e}})},clickAction(e){this.isDel?this.getGoods(e):this.delHistroyRecode(e)},delAll(){this.isDel=!0,this.delAllHistroyRecode()}},computed:{...(0,r.aH)([["search"]]),isShow(){return!!this.search.histroyRecode.length}},mounted(){this.$nextTick((()=>{this.$refs.input.focus()}))},activated(){this.$nextTick((()=>{this.$refs.input.focus()}))}},c=a,l=s(1656),d=(0,l.A)(c,i,o,!1,null,"65644ea8",null),u=d.exports}}]);
//# sourceMappingURL=367.9b43ce14.js.map